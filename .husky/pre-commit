#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Pre-commit checks..."
echo ""

# Auto-format code
echo "âœ¨ [1/2] Auto-formatting code..."
pnpm format || {
  echo "âŒ Formatting failed."
  exit 1
}
echo "   âœ… Code formatted"
echo ""

# Run lint-staged checks
echo "ğŸ” [2/2] Running lint-staged checks..."
pnpm check:staged || {
  echo ""
  echo "âŒ Pre-commit checks failed. Please fix the issues above."
  exit 1
}
echo "   âœ… Lint-staged checks passed"
echo ""

echo "âœ… Pre-commit checks passed!"
